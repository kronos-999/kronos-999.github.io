import{h as e,m as t,o as a,k as i,a as o,p as s,q as r,as as l,F as n,l as p,t as d}from"./vendor.78461187.js";import{f as c}from"./fireAPI.7aa1e5b8.js";import{a as m,c as u}from"./app.0499de2a.js";import{_ as x}from"./ShortsSlideOver.11694f74.js";import{_ as f}from"./ShortsFilters.21a5ea53.js";import"./LoadingSpinner.985faa17.js";const h={class:"flex flex-col my-4"},v={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},g={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},w={class:"overflow-hidden border-b border-appromed sm:rounded-lg"},b={class:"min-w-full divide-y divide-appromed mt-3"},y={class:"bg-white"},_=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Titel ",-1),S=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Von ",-1),k=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Bis ",-1),j={scope:"col",class:"relative px-6 py-3"},R=o("span",{class:"text-white group-hover:text-gray-200 font-normal"},"HinzufÃ¼gen",-1),$={class:"bg-white divide-y divide-appromed"},z={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},D={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},C={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-end"},F=["onClick"],T={__name:"shorts",setup(u){e();const T=t(!1);return(e,t)=>{const u=f,B=x;return a(),i(n,null,[o("div",h,[o("div",v,[o("div",g,[o("div",w,[s(u,{onSearch:t[0]||(t[0]=({position:e,area:t,specialization:a,needed_from:i,needed_until:o,experience:s})=>(async({position:e,area:t,specialization:a,needed_from:i,needed_until:o,experience:s})=>{T.value=!0;const[r,l]=await c("/api/v2/medching/hunters/shorts/search",{position:e,area:t,specialization:a,needed_from:i,needed_until:o,experience:s});if(l)return T.value=!1,console.log(l),403==l.code?window.location.href="/hunters/login":alert("ERROR");if(T.value=!1,r.value.length){for(let e=0;e<r.value.length;e++){const t=r.value[e];let a,i,o,s;a=new Date(t.available_from),i=a.getFullYear().toString().padStart(4,"0"),o=(a.getMonth()+1).toString().padStart(2,"0"),s=a.getDate().toString().padStart(2,"0"),t.available_from=`${i}-${o}-${s}`,a=new Date(t.available_until),i=a.getFullYear().toString().padStart(4,"0"),o=(a.getMonth()+1).toString().padStart(2,"0"),s=a.getDate().toString().padStart(2,"0"),t.available_until=`${i}-${o}-${s}`}m.shorts_availabilities=r.value}})({position:e,area:t,specialization:a,needed_from:i,needed_until:o,experience:s})),disabled:1==T.value},null,8,["disabled"]),o("table",b,[o("thead",y,[o("tr",null,[_,S,k,o("th",j,[o("button",{type:"button",class:"flex items-center justify-center gap-2 bg-appromed rounded py-1.5 px-3 ml-auto",onClick:t[1]||(t[1]=e=>(async()=>{const[e,t]=await c("/api/v2/medching/hunters/shorts/add",{title:"DOC SHORT"},!0);if(t)return console.log(t),403==t.code?window.location.href="/hunters/login":alert("ERROR");m.shorts_availabilities.push(e.value)})())},[s(r(l),{class:"text-white group-hover:text-gray-200 w-6 h-6"}),R])])])]),o("tbody",$,[(a(!0),i(n,null,p(r(m).shorts_availabilities,((e,t)=>{var s,r;return a(),i("tr",{key:t},[o("td",z,d(e.title),1),o("td",D,d(null==(s=e.available_from)?void 0:s.replace("T00:00:00.000Z","")),1),o("td",O,d(null==(r=e.available_until)?void 0:r.replace("T00:00:00.000Z","")),1),o("td",C,[o("button",{type:"button",onClick:t=>{return a=e,m.shorts_slide_over.data=a,void(m.shorts_slide_over.open=!0);var a},class:"text-appromed hover:text-appromed"},"Bearbeiten",8,F)])])})),128))])])])])])]),s(B)],64)}}};"function"==typeof u&&u(T);export{T as default};
