import{h as e,m as t,o as a,k as s,a as o,p as l,q as i,ar as n,aM as r,F as d,l as p,t as c}from"./vendor.78461187.js";import{f as u}from"./fireAPI.7aa1e5b8.js";import{a as m,c as h}from"./app.0499de2a.js";import{_ as x}from"./ShortsSlideOver.11694f74.js";import{_ as v}from"./ButtonInput.2d0dab8a.js";import"./LoadingSpinner.985faa17.js";const f={class:"flex flex-col my-4"},g={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},w={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},y={class:"border-b border-appromed sm:rounded-lg"},b={class:"min-w-full divide-y divide-appromed"},_={class:"bg-white"},k=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Klinik ",-1),j=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Arzt ",-1),C=o("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Schwerpunkt / Zusatzbezeichnung ",-1),z={scope:"col",class:"relative px-6 py-3"},R=["disabled"],A=o("span",{class:"text-white group-hover:text-gray-200 font-normal"},"Aktualisieren",-1),L={class:"bg-white divide-y divide-appromed"},S={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},V={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},q={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex gap-x-2 justify-end items-center"},E=["onClick"],I={__name:"shorts",setup(h){e();const I=t("");return(e,t)=>{const h=v,K=x;return a(),s(d,null,[o("div",f,[o("div",g,[o("div",w,[o("div",y,[l(h,{modelValue:I.value,"onUpdate:modelValue":t[0]||(t[0]=e=>I.value=e),onClick:t[1]||(t[1]=e=>(async()=>{if(!I.value.length)return;const[e,t]=await u("/api/v2/medching/admins/shorts/search",{query:I.value});if(t)return console.log(t),403==t.code?window.location.href="/admins/login":alert("ERROR");e.value.length&&(m.short_hits=e.value)})()),icon:i(n),placeholder:"Nach Klinknamen oder Arztnamen suchen",class:"my-3 pl-1"},null,8,["modelValue","icon"]),o("table",b,[o("thead",_,[o("tr",null,[k,j,C,o("th",z,[o("button",{type:"button",disabled:1==i(m).loading,class:"disabled:cursor-not-allowed flex items-center justify-center gap-2 bg-appromed rounded py-1.5 px-3 ml-auto",onClick:t[2]||(t[2]=e=>(async()=>{m.short_hits=[];const[e,t]=await u("/api/v2/medching/admins/shorts/get",{last:m.short_hits.map((e=>e.id)).filter(Number).reduce(((e,t)=>e.y>t.y?e:t),0)});if(t)return console.log(t),403==t.code?window.location.href="/admins/login":alert("ERROR");e.value.length&&m.short_hits.push(...e.value)})())},[l(i(r),{class:"text-white group-hover:text-gray-200 w-6 h-6"}),A],8,R)])])]),o("tbody",L,[(a(!0),s(d,null,p(i(m).short_hits.filter((e=>{var t,a,s,o,l,n;return!I.value.length&&!i(m).short_hits.length||((null==(s=null==(t=null==e?void 0:e.clinic_name)?void 0:t.toLowerCase())?void 0:s.includes(null==(a=I.value)?void 0:a.toLowerCase()))||(null==(n=null==(o=null==e?void 0:e.doc_name)?void 0:o.toLowerCase())?void 0:n.includes(null==(l=I.value)?void 0:l.toLowerCase())))})),((e,t)=>{var l,n;return a(),s("tr",{key:t},[o("td",S,c(e.clinic_name),1),o("td",O,c(e.doc_name),1),o("td",V,c(null==(l=i(m).areas.find((t=>t.id==e.area)))?void 0:l.name)+" / "+c(null==(n=i(m).specializations.find((t=>t.id==e.specialization)))?void 0:n.name),1),o("td",q,[o("button",{type:"button",onClick:t=>(async e=>{m.shorts_slide_over.data=e,m.shorts_slide_over.open=!0})(e),class:"focus:border-none text-appromed hover:text-appromed"},"Anzeigen",8,E)])])})),128))])])])])])]),l(K)],64)}}};"function"==typeof h&&h(I);export{I as default};
