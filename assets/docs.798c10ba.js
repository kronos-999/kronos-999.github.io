import{h as e,m as o,o as t,k as l,a,p as i,q as n,ar as s,as as d,F as r,l as u,t as p,c,at as m,d as v}from"./vendor.78461187.js";import{f as x}from"./fireAPI.d6c112e0.js";import{a as w,c as f}from"./app.6e8926da.js";import{_ as h}from"./DocsSlideOver.49196ed5.js";import{_ as g}from"./ShortsFilters.a1775912.js";import{_ as y}from"./ButtonInput.cc47249f.js";import"./addDeduped.8c328dee.js";import"./TDatepicker.53bafdb1.js";import"./LoadingSpinner.f2e737a5.js";const C={class:"flex flex-col my-4"},L={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},b={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},k={class:"border-b border-appromed sm:rounded-lg"},_={class:"min-w-full divide-y divide-appromed"},D={class:"bg-white"},j=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," ID ",-1),R=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Vorname ",-1),z=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Nachname ",-1),I=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Position / Schwerpunkt ",-1),S={scope:"col",class:"relative px-6 py-3"},N=a("span",{class:"text-white group-hover:text-gray-200 font-normal"},"Hinzuf√ºgen",-1),O={class:"bg-white divide-y divide-appromed"},V={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},E={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},B={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},F={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},P={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex gap-x-2 justify-end items-center"},q=["onClick"],H={class:"bg-white divide-y divide-appromed"},M={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},A={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},G={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},T={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},U={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex gap-x-2 justify-end items-center"},Y=["onClick"],Z={__name:"docs",setup(f){e(),Date.prototype.toISODate=function(){return this.getFullYear()+"-"+("0"+(this.getMonth()+1)).slice(-2)+"-"+("0"+this.getDate()).slice(-2)};const Z=function(e,o){for(var t=[],l=new Date(e);l<=new Date(o);l.setDate(l.getDate()+1))t.push(new Date(l));return t},J=o(""),K=e=>{w.docs_slide_over.data=e,w.docs_slide_over.open=!0};return(e,o)=>{const f=y,Q=g,W=h;return t(),l(r,null,[a("div",C,[a("div",L,[a("div",b,[a("div",k,[i(f,{modelValue:J.value,"onUpdate:modelValue":o[0]||(o[0]=e=>J.value=e),onClick:o[1]||(o[1]=e=>(async()=>{if(!J.value.length)return;const[e,o]=await x("/api/v2/medching/admins/docs/search",{query:J.value});if(o)return console.log(o),403==o.code?window.location.href="/admins/login":alert("ERROR");e.value.length&&(w.docs=e.value)})()),icon:n(s),class:"my-3 pl-1",placeholder:"Nach ID, Zusatzbezeichnung, Position, Vor- oder Nachname suchen"},null,8,["modelValue","icon"]),i(Q,{onSearch:o[2]||(o[2]=({position:e,area:o,specialization:t,needed_from:l,needed_until:a,experience:i})=>(async({position:e,area:o,specialization:t,needed_from:l,needed_until:a,experience:i})=>{const[n,s]=await x("/api/v2/medching/admins/docs/search/advanced",{position:e,area:o,specialization:t,timespan:Z(l,a).map((e=>e.toISODate())),experience:i});if(s)return console.log(s),403==s.code?window.location.href="/admins/login":alert("ERROR");n.value.length&&(w.docs=n.value)})({position:e,area:o,specialization:t,needed_from:l,needed_until:a,experience:i})),disabled:1==n(w).loading,no_shorts:!0},null,8,["disabled"]),a("table",_,[a("thead",D,[a("tr",null,[j,R,z,I,a("th",S,[a("button",{type:"button",class:"flex items-center justify-center gap-2 bg-appromed rounded py-1.5 px-3 ml-auto",onClick:o[3]||(o[3]=e=>(async()=>{const[e,o]=await x("/api/v2/medching/admins/docs/add",{firstname:"DR",lastname:"MEDCHING",added_by:w.admin.username},!0);if(o)return console.log(o),403==o.code?window.location.href="/admins/login":alert("ERROR");e.value.important=!0,w.docs.push(e.value)})())},[i(n(d),{class:"text-white group-hover:text-gray-200 w-6 h-6"}),N])])])]),a("tbody",O,[(t(!0),l(r,null,u(n(w).docs.filter((e=>{var o,t,l,a,i,s,d,r,u,p,c,m,v,x,f,h,g,y,C,L,b,k;return!J.value.length&&!n(w).docs.length||((null==e?void 0:e.id)==Number(null==(o=J.value)?void 0:o.toLowerCase())||(null==(a=null==(t=null==e?void 0:e.firstname)?void 0:t.toLowerCase())?void 0:a.includes(null==(l=J.value)?void 0:l.toLowerCase()))||(null==(d=null==(i=null==e?void 0:e.email)?void 0:i.toLowerCase())?void 0:d.includes(null==(s=J.value)?void 0:s.toLowerCase()))||(null==(p=null==(r=null==e?void 0:e.phone)?void 0:r.toLowerCase())?void 0:p.includes(null==(u=J.value)?void 0:u.toLowerCase()))||(null==(v=null==(c=null==e?void 0:e.lastname)?void 0:c.toLowerCase())?void 0:v.includes(null==(m=J.value)?void 0:m.toLowerCase()))||(null==(h=null==(x=null==e?void 0:e.specialization)?void 0:x.toLowerCase())?void 0:h.includes(null==(f=J.value)?void 0:f.toLowerCase()))||(null==(C=null==(g=null==e?void 0:e.area)?void 0:g.toLowerCase())?void 0:C.includes(null==(y=J.value)?void 0:y.toLowerCase()))||(null==(k=null==(L=null==e?void 0:e.position)?void 0:L.toLowerCase())?void 0:k.includes(null==(b=J.value)?void 0:b.toLowerCase())))})).filter((e=>1==(null==e?void 0:e.important))),((e,o)=>{var i,s;return t(),l("tr",{key:o},[a("td",V,p(e.id),1),a("td",E,p(e.firstname),1),a("td",B,p(e.lastname),1),a("td",F,p(null==(i=n(w).positions.find((o=>o.id==e.position_id)))?void 0:i.name)+" / "+p(null==(s=n(w).areas.find((o=>{var t;return null==(t=e.areas)?void 0:t.includes(o.id)})))?void 0:s.name),1),a("td",P,[1==(null==e?void 0:e.important)||0==e.verified?(t(),c(n(m),{key:0,class:"text-appromed w-6 h-6"})):v("",!0),a("button",{type:"button",onClick:o=>K(e),class:"focus:border-none text-appromed hover:text-appromed"},"Bearbeiten",8,q)])])})),128))]),a("tbody",H,[(t(!0),l(r,null,u(n(w).docs.filter((e=>{var o,t,l,a,i,s,d,r,u,p,c,m,v,x,f,h,g,y,C,L,b,k;return!J.value.length&&!n(w).docs.length||((null==e?void 0:e.id)==Number(null==(o=J.value)?void 0:o.toLowerCase())||(null==(a=null==(t=null==e?void 0:e.firstname)?void 0:t.toLowerCase())?void 0:a.includes(null==(l=J.value)?void 0:l.toLowerCase()))||(null==(d=null==(i=null==e?void 0:e.email)?void 0:i.toLowerCase())?void 0:d.includes(null==(s=J.value)?void 0:s.toLowerCase()))||(null==(p=null==(r=null==e?void 0:e.phone)?void 0:r.toLowerCase())?void 0:p.includes(null==(u=J.value)?void 0:u.toLowerCase()))||(null==(v=null==(c=null==e?void 0:e.lastname)?void 0:c.toLowerCase())?void 0:v.includes(null==(m=J.value)?void 0:m.toLowerCase()))||(null==(h=null==(x=null==e?void 0:e.specialization)?void 0:x.toLowerCase())?void 0:h.includes(null==(f=J.value)?void 0:f.toLowerCase()))||(null==(C=null==(g=null==e?void 0:e.area)?void 0:g.toLowerCase())?void 0:C.includes(null==(y=J.value)?void 0:y.toLowerCase()))||(null==(k=null==(L=null==e?void 0:e.position)?void 0:L.toLowerCase())?void 0:k.includes(null==(b=J.value)?void 0:b.toLowerCase())))})).filter((e=>!0!==(null==e?void 0:e.important))),((e,o)=>{var i,s;return t(),l("tr",{key:o},[a("td",M,p(e.id),1),a("td",A,p(e.firstname),1),a("td",G,p(e.lastname),1),a("td",T,p(null==(i=n(w).positions.find((o=>o.id==e.position_id)))?void 0:i.name)+" / "+p(null==(s=n(w).areas.find((o=>{var t;return null==(t=e.areas)?void 0:t.includes(o.id)})))?void 0:s.name),1),a("td",U,[1==(null==e?void 0:e.important)||0==e.verified?(t(),c(n(m),{key:0,class:"text-appromed w-6 h-6"})):v("",!0),a("button",{type:"button",onClick:o=>K(e),class:"focus:border-none text-appromed hover:text-appromed"},"Bearbeiten",8,Y)])])})),128))])])])])])]),i(W)],64)}}};"function"==typeof f&&f(Z);export{Z as default};
