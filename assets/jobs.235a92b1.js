import{h as e,m as t,o,k as a,a as l,p as s,q as r,ar as i,as as n,F as d,l as p,t as c}from"./vendor.78461187.js";import{f as u}from"./fireAPI.03abe0f8.js";import{a as m,c as v}from"./app.834e91fc.js";import{_ as f}from"./JobsSlideOver.da1a7a88.js";import{_ as x}from"./ButtonInput.b88ceb2e.js";import"./LoadingSpinner.c14070a6.js";const h={class:"flex flex-col my-4"},w={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},b={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},y={class:"overflow-hidden border-b border-appromed sm:rounded-lg"},g={class:"min-w-full divide-y divide-appromed"},j={class:"bg-white"},k=l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Titel ",-1),C=l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Addresse ",-1),_={scope:"col",class:"relative px-6 py-3"},L=l("span",{class:"text-white group-hover:text-gray-200 font-normal"},"HinzufÃ¼gen",-1),R={class:"bg-white divide-y divide-appromed"},O={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},B={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},V={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-center"},q=["onClick"],A={__name:"jobs",setup(v){e();const A=t("");return(e,t)=>{const v=x,E=f;return o(),a(d,null,[l("div",h,[l("div",w,[l("div",b,[l("div",y,[s(v,{modelValue:A.value,"onUpdate:modelValue":t[0]||(t[0]=e=>A.value=e),onClick:t[1]||(t[1]=e=>(async()=>{if(!A.value.length)return;const[e,t]=await u("/api/v2/medching/hunters/jobs/search",{query:A.value});if(t)return console.log(t),403==t.code?window.location.href="/hunters/login":alert("ERROR");e.value.length&&(m.jobs=e.value)})()),icon:r(i),placeholder:"Nach Titel oder Klinik suchen",class:"my-3 pl-1"},null,8,["modelValue","icon"]),l("table",g,[l("thead",j,[l("tr",null,[k,C,l("th",_,[l("button",{type:"button",class:"flex items-center justify-center gap-2 bg-appromed rounded py-1.5 px-3 ml-auto",onClick:t[2]||(t[2]=e=>(async()=>{const[e,t]=await u("/api/v2/medching/hunters/jobs/add",{title:"DOC JOB",added_by:m.admin.username},!0);if(t)return console.log(t),403==t.code?window.location.href="/hunters/login":alert("ERROR");m.jobs.push(e.value)})())},[s(r(n),{class:"text-white group-hover:text-gray-200 w-6 h-6"}),L])])])]),l("tbody",R,[(o(!0),a(d,null,p(r(m).jobs.filter((e=>{var t,o,a,l,s,r;return!A.value.length||((null==(o=null==e?void 0:e.title)?void 0:o.toLowerCase().includes(null==(t=A.value)?void 0:t.toLowerCase()))||(null==(l=null==e?void 0:e.clinic)?void 0:l.toLowerCase().includes(null==(a=A.value)?void 0:a.toLowerCase()))||(null==(r=null==e?void 0:e.city)?void 0:r.toLowerCase().includes(null==(s=A.value)?void 0:s.toLowerCase())))})),((e,t)=>(o(),a("tr",{key:t},[l("td",O,c(e.title),1),l("td",B,c(e.city),1),l("td",V,[l("button",{type:"button",onClick:t=>{return o=e,m.jobs_slide_over.data=o,void(m.jobs_slide_over.open=!0);var o},class:"focus:border-none text-appromed hover:text-appromed"},"Bearbeiten",8,q)])])))),128))])])])])])]),s(E)],64)}}};"function"==typeof v&&v(A);export{A as default};
