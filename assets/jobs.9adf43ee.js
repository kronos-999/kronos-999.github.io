import{h as e,m as t,o,k as l,a,p as s,q as i,ar as n,as as r,F as d,l as p,t as c}from"./vendor.78461187.js";import{f as u}from"./fireAPI.d6c112e0.js";import{a as m,c as v}from"./app.6e8926da.js";import{_ as f}from"./JobsSlideOver.1a7c8b29.js";import{_ as x}from"./ButtonInput.cc47249f.js";import"./LoadingSpinner.f2e737a5.js";const h={class:"flex flex-col my-4"},w={class:"-my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},y={class:"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8"},b={class:"overflow-hidden border-b border-appromed sm:rounded-lg"},g={class:"min-w-full divide-y divide-appromed"},j={class:"bg-white"},k=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," Titel ",-1),C=a("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-appromed uppercase tracking-wider"}," PLZ ",-1),_={scope:"col",class:"relative px-6 py-3"},L=a("span",{class:"text-white group-hover:text-gray-200 font-normal"},"HinzufÃ¼gen",-1),R={class:"bg-white divide-y divide-appromed"},O={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-appromed-dark"},B={class:"px-6 py-4 whitespace-nowrap text-sm text-appromed"},V={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium flex justify-center"},q=["onClick"],E={__name:"jobs",setup(v){e();const E=t("");return(e,t)=>{const v=x,I=f;return o(),l(d,null,[a("div",h,[a("div",w,[a("div",y,[a("div",b,[s(v,{modelValue:E.value,"onUpdate:modelValue":t[0]||(t[0]=e=>E.value=e),onClick:t[1]||(t[1]=e=>(async()=>{if(!E.value.length)return;const[e,t]=await u("/api/v2/medching/admins/jobs/search",{query:E.value});if(t)return console.log(t),403==t.code?window.location.href="/admins/login":alert("ERROR");e.value.length&&(m.jobs=e.value)})()),icon:i(n),placeholder:"Nach Titel oder Klinik suchen",class:"my-3 pl-1"},null,8,["modelValue","icon"]),a("table",g,[a("thead",j,[a("tr",null,[k,C,a("th",_,[a("button",{type:"button",class:"flex items-center justify-center gap-2 bg-appromed rounded py-1.5 px-3 ml-auto",onClick:t[2]||(t[2]=e=>(async()=>{const[e,t]=await u("/api/v2/medching/admins/jobs/add",{title:"DOC JOB",added_by:m.admin.username},!0);if(t)return console.log(t),403==t.code?window.location.href="/admins/login":alert("ERROR");m.jobs.push(e.value)})())},[s(i(r),{class:"text-white group-hover:text-gray-200 w-6 h-6"}),L])])])]),a("tbody",R,[(o(!0),l(d,null,p(i(m).jobs.filter((e=>{var t,o,l,a,s,i;return!E.value.length||((null==(o=null==e?void 0:e.title)?void 0:o.toLowerCase().includes(null==(t=E.value)?void 0:t.toLowerCase()))||(null==(a=null==e?void 0:e.clinic)?void 0:a.toLowerCase().includes(null==(l=E.value)?void 0:l.toLowerCase()))||(null==(i=null==e?void 0:e.city)?void 0:i.toLowerCase().includes(null==(s=E.value)?void 0:s.toLowerCase())))})),((e,t)=>{var s;return o(),l("tr",{key:t},[a("td",O,c(e.title.split(" ").slice(0,5).join(" ")+"..."),1),a("td",B,c((null==(s=e.city)?void 0:s.split(" ").slice(0,4).join(" "))+"..."),1),a("td",V,[a("button",{type:"button",onClick:t=>{return o=e,m.jobs_slide_over.data=o,void(m.jobs_slide_over.open=!0);var o},class:"focus:border-none text-appromed hover:text-appromed"},"Bearbeiten",8,q)])])})),128))])])])])])]),s(I)],64)}}};"function"==typeof v&&v(E);export{E as default};
